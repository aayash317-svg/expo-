{% extends 'base.html' %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;" class="animate-in fade-in slide-in-from-bottom-4">
    <div class="glass-panel" style="padding: 40px;">
        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 30px;">
            <div
                style="background: rgba(6, 182, 212, 0.1); p: 12px; border-radius: 12px; border: 1px solid var(--primary-glow);">
                <span style="font-size: 1.5rem;">üìù</span>
            </div>
            <div>
                <h2 class="text-gradient" style="margin: 0; font-size: 1.8rem;">Add Medical Entry</h2>
                <p style="color: var(--text-muted); margin: 0; font-size: 0.9rem;">Adding record for cryptographic
                    signing.</p>
            </div>
        </div>

        <div
            style="background: rgba(244, 63, 94, 0.15); border: 1px solid rgba(244, 63, 94, 0.3); padding: 20px; border-radius: 16px; margin-bottom: 30px; display: flex; gap: 16px; align-items: start;">
            <span style="font-size: 1.5rem;">‚ö†Ô∏è</span>
            <div>
                <strong style="color: #fb7185; display: block; margin-bottom: 4px; font-size: 0.95rem;">CRITICAL
                    WARNING</strong>
                <p style="margin: 0; color: rgba(251, 113, 133, 0.8); font-size: 0.85rem; line-height: 1.5;">
                    This record is permanent. Once committed to the patient's identity, it <strong>cannot be modified or
                        deleted</strong>.
                </p>
            </div>
        </div>

        <form id="add-data-form" data-patient-id="{{ patient_id }}" class="space-y-6">
            <div class="form-group">
                <label for="record_type">Record Category</label>
                <select id="record_type" name="record_type" required class="form-control">
                    <option value="text">Clinical Notes (Text)</option>
                    <option value="image">Image / X-Ray</option>
                    <option value="pdf">PDF Report</option>
                    <option value="scan">Scan Results</option>
                </select>
            </div>

            <div class="form-group">
                <label for="summary">Clinical Summary / Title</label>
                <input type="text" id="summary" name="summary" class="form-control"
                    placeholder="e.g. Annual physical checkup results" required>
            </div>

            <div class="form-group">
                <label for="data_payload">Detailed Clinical Data</label>
                <textarea id="data_payload" name="data_payload" rows="6" class="form-control"
                    placeholder="Enter findings, symptoms, or file secure links..." required></textarea>
                <p style="color: var(--text-muted); font-size: 0.75rem; margin-top: 8px;">
                    Encryption automatically applied to all payload data.
                </p>
            </div>

            <div style="margin-top: 40px; display: flex; gap: 16px;">
                <button type="submit" class="btn-primary"
                    style="flex: 2; background: linear-gradient(135deg, #f43f5e 0%, #be123c 100%);">
                    Sign & Commit Record
                </button>
                <a href="javascript:history.back()" class="btn-primary"
                    style="flex: 1; background: rgba(255,255,255,0.05); color: var(--text-main); border: 1px solid var(--glass-border);">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}